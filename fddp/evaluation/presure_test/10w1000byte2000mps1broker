# 说明
# 本次实验：生产者为阿里云服务器（学生机1核2G内存），消费者为在阿里云（2核4G内存）运行的1个broker

#
# ./kafka-producer-perf-test.sh --topic test_perf1 --num-records 100000 --record-size 1000  --throughput 2000 --producer-props bootstrap.servers=Kafka-1:9092

OpenJDK 64-Bit Server VM warning: If the number of processors is expected to increase from one, then you should configure the number of parallel GC threads appropriately using -XX:ParallelGCThreads=N
[2020-06-09 09:09:49,116] WARN [Producer clientId=producer-1] Error while fetching metadata with correlation id 1 : {test_perf1=LEADER_NOT_AVAILABLE} (org.apache.kafka.clients.NetworkClient)
9971 records sent, 1994.2 records/sec (1.90 MB/sec), 15.8 ms avg latency, 563.0 ms max latency.
10011 records sent, 2002.2 records/sec (1.91 MB/sec), 3.9 ms avg latency, 18.0 ms max latency.
10018 records sent, 2003.6 records/sec (1.91 MB/sec), 2.5 ms avg latency, 15.0 ms max latency.
10002 records sent, 2000.4 records/sec (1.91 MB/sec), 1.2 ms avg latency, 14.0 ms max latency.
10000 records sent, 2000.0 records/sec (1.91 MB/sec), 1.2 ms avg latency, 14.0 ms max latency.
10000 records sent, 2000.0 records/sec (1.91 MB/sec), 1.1 ms avg latency, 16.0 ms max latency.
9986 records sent, 1996.4 records/sec (1.90 MB/sec), 1.9 ms avg latency, 22.0 ms max latency.
10018 records sent, 2003.2 records/sec (1.91 MB/sec), 1.3 ms avg latency, 15.0 ms max latency.
10002 records sent, 2000.4 records/sec (1.91 MB/sec), 1.1 ms avg latency, 12.0 ms max latency.
9992 records sent, 1998.4 records/sec (1.91 MB/sec), 1.1 ms avg latency, 14.0 ms max latency.
100000 records sent, 1999.440157 records/sec (1.91 MB/sec), 3.10 ms avg latency, 563.00 ms max latency, 1 ms 50th, 6 ms 95th, 89 ms 99th, 109 ms 99.9th.